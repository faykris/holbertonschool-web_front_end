<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 6</title>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous">
        </script>
    <script type="application/javascript">
        $.when($.ready).then(function () {
            function createFamilyTree() {
                $("body").append(
                    $("<table></table>").append(
                        $("<thead></thead>").append(
                            $("<tr></tr>").append(
                                $("<th></th>").text("Firstname"), $("<th></th>").text("Lastname"))),
                        $("<tbody></tbody>")));
            }
            function addNewMember(firstName = '', lastName = '', position = '') {
                if (position == 'Before') {
                    $("tbody").prepend(
                        $("<tr></tr>").append(
                            $("<td></td>").text(firstName),
                            $("<td></td>").text(lastName),
                            $("<td></td>").text("(X)").css("background-color", "orange")
                        )
                    );
                }
                else {
                    $("tbody").append(
                        $("<tr></tr>").append(
                            $("<td></td>").text(firstName),
                            $("<td></td>").text(lastName),
                            $("<td></td>").text("(X)").css("background-color", "orange")
                        )
                    );
                }
            }

            function createForm() {
                $("body").append("<input type='text'><input type='text'><input type='submit'>");
                $("input:submit").before("<select><option>Before</option><option>After</option></select>");
            }

            createForm();
            createFamilyTree();

            $("tbody").on("click", "tr td:contains('(X)')", function () {
                $(this).closest('tr').remove();
            });

            $("input:submit").click(function () {
                addNewMember($("input").first().val(), $("input:nth-of-type(2)").val(), $("select").val());
            });
        });

        jQuery.readyException = function (error) {
            console.error("jQuery has not been loaded correctly");
        };

    </script>
</head>

<body>
</body>

</html>